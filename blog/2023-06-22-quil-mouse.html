<head><title>Greg Jensen's Blog</title><link href="/styles.css" rel="stylesheet" type="text/css" /></head><body><div class="center"><a href="/">Home</a><a href="/math.html">Math</a><a href="mailto:greg.micah.jensen@gmail.com">Email</a><a href="/blog">Blog</a><a href="https://www.github.com/g-jensen">GitHub</a></div><div class="post"><div><h1>Quil Mouse Clicks</h1><p>2023-06-22</p><!---
Tags:
[:clojure]
--><p>In my Traveling Salesman point picker, I am using the graphics library Quil to display graphics. Quil also
handles user input like key presses and mouse clicks. Previously, I was using a bad method of managing mouse
presses. Every frame, I was simply checking if the mouse was clicked, and if it was then I would do what I want.
This caused some problems because for reasons like framerate, some mouse clicks would not be registered
because they were not done close enough to the call of the <code>update</code> function. But there is an easier way.
Quil actually comes with a <code>mouse-clicked</code> event bind that event works with <code>fun-mode</code>. You can define what
function you want to be called by adding <code>:mouse-clicked my-function</code> to the parameters in the <code>defsketch</code>.
In <code>fun-mode</code> (functional mode), <code>my-function</code> should take in two parameters, one for the current state and one
for information about what button has been pressed and where. Whatever is returned from the function is also
used as the new state for the next frame.</p></div></div></body>